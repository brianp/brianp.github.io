<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"http:\/\/alwayscoding.ca\/",
  "author": {
    "@type": "Person",
    "name": "Brian Pearce",
    
    "image": "https://www.gravatar.com/avatar/c15ec5b29cc5407a01bd17907e41230b"
    
  },
  "name":"{ always: \u0027coding\u0027 }",
  "description":"Last week during my main work contract I had been tasked with doing some would-be trivial content updates to a section of a client application. Content updates would normally involve hopping into a view changing some images or text and re-deploying. This particular section though is a little more complex then that and way more complex then it should be.\nThe Setup This particular section of the application has rotating content.",
  "url":"http:\/\/alwayscoding.ca\/momentos\/2013\/06\/13\/using-rails-i18n-translations-to-solve-dynamic-content-issues\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.91.2 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="Brian Pearce">
<meta name="keywords" content="">
<meta name="description" content="Last week during my main work contract I had been tasked with doing some would-be trivial content updates to a section of a client application. Content updates would normally involve hopping into a view changing some images or text and re-deploying. This particular section though is a little more complex then that and way more complex then it should be.
The Setup This particular section of the application has rotating content.">


<meta property="og:description" content="Last week during my main work contract I had been tasked with doing some would-be trivial content updates to a section of a client application. Content updates would normally involve hopping into a view changing some images or text and re-deploying. This particular section though is a little more complex then that and way more complex then it should be.
The Setup This particular section of the application has rotating content.">
<meta property="og:type" content="article">
<meta property="og:title" content="Using Rails I18n translations to solve dynamic content issues">
<meta name="twitter:title" content="Using Rails I18n translations to solve dynamic content issues">
<meta property="og:url" content="http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/">
<meta property="twitter:url" content="http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/">
<meta property="og:site_name" content="{ always: &#39;coding&#39; }">
<meta property="og:description" content="Last week during my main work contract I had been tasked with doing some would-be trivial content updates to a section of a client application. Content updates would normally involve hopping into a view changing some images or text and re-deploying. This particular section though is a little more complex then that and way more complex then it should be.
The Setup This particular section of the application has rotating content.">
<meta name="twitter:description" content="Last week during my main work contract I had been tasked with doing some would-be trivial content updates to a section of a client application. Content updates would normally involve hopping into a view changing some images or text and re-deploying. This particular section though is a little more complex then that and way more complex then it should be.
The Setup This particular section of the application has rotating content.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2013-06-13T17:33:00">
  
  
    <meta property="article:modified_time" content="2013-06-13T17:33:00">
  
  
  
    
      <meta property="article:section" content="rails">
    
      <meta property="article:section" content="development">
    
  
  
    
      <meta property="article:tag" content="rails">
    
      <meta property="article:tag" content="ruby">
    
      <meta property="article:tag" content="I18n">
    
      <meta property="article:tag" content="translations">
    
      <meta property="article:tag" content="yaml">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@brian_pearce">


  <meta name="twitter:creator" content="@brian_pearce">






  <meta property="og:image" content="https://www.gravatar.com/avatar/c15ec5b29cc5407a01bd17907e41230b?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/c15ec5b29cc5407a01bd17907e41230b?s=640">






    <title>Using Rails I18n translations to solve dynamic content issues</title>

    <link rel="icon" href="http://alwayscoding.ca/favicon.png">
    

    

    <link rel="canonical" href="http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="http://alwayscoding.ca/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="http://alwayscoding.ca/" aria-label="Go to homepage">{ always: &#39;coding&#39; }</a>
  </div>
  
    
      <a class="header-right-picture "
         href="http://alwayscoding.ca/#about" aria-label="Open the link: /#about">
    
    
    
      
        <img class="header-picture" src="https://www.gravatar.com/avatar/c15ec5b29cc5407a01bd17907e41230b?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="http://alwayscoding.ca/#about" aria-label="Read more about the author">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/c15ec5b29cc5407a01bd17907e41230b?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Brian Pearce</h4>
        
          <h5 class="sidebar-profile-bio">Software Developer, Endurance Cyclist,<!-- raw HTML omitted --> Rubiest, and Rustacean</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://alwayscoding.ca/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://alwayscoding.ca/tags" title="Tags">
    
      <i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://alwayscoding.ca/categories" title="Categories">
    
      <i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://alwayscoding.ca/archives" title="Archives">
    
      <i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://alwayscoding.ca/#about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/brianp" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.twitter.com/brian_pearce/" target="_blank" rel="noopener" title="Twitter">
    
      <i class="sidebar-button-icon fab fa-lg fa-twitter" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/brian-pearce/" target="_blank" rel="noopener" title="LinkedIn">
    
      <i class="sidebar-button-icon fab fa-lg fa-linkedin" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://alwayscoding.ca/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      Using Rails I18n translations to solve dynamic content issues
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2013-06-13T17:33:00Z">
        
  June 13, 2013

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="http://alwayscoding.ca/categories/rails">rails</a>, 
    
      <a class="category-link" href="http://alwayscoding.ca/categories/development">development</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <p>Last week during my main work contract I had been tasked with doing some
would-be trivial content updates to a section of a client application.
Content updates would normally involve hopping into a view changing some
images or text and re-deploying. This particular section though is a
little more complex then that and way more complex then it should be.</p>
<h3 id="the-setup">The Setup</h3>
<p>This particular section of the application has rotating content. Each
rotation we&rsquo;ll refer to as a <em>Phase</em>. Each phase is displayed for a
length of time determined by the client and is switched on demand via an
admin interface. Some structural changes occur on pages but very few. For the
most part it&rsquo;s copy that changes. On some pages it could be entire
blocks of copy on others maybe simple date changes.<br>
The phases represent stages of a competition. ex:</p>
<ul>
<li>Phase 1: Contest closed - References last years contest.</li>
<li>Phase 2: Announcing the call for submissions opening date and rules.</li>
<li>Phase 3: Call for submissions opened.</li>
<li>Phase 4: Submissions closed. Public judging occurs.</li>
<li>Phase 5: Public Judging closes. Internal judging occurs.</li>
<li>Phase 6: Winners Announced.</li>
</ul>
<h3 id="the-problem">The Problem</h3>
<p>How to offer phase specific copy with out gratuitous amounts of switch or
else/if logic in views. As well as keeping the copy and app as DRY as possible.</p>
<h3 id="failed-attempts">Failed Attempts</h3>
<p>The original implemntation setup was to use partials. Have one partial
with the standard set of copy and then have phase specific partials
that would be included if a phase specific file exists. This was simple.
Everyone knows how partials work and the swtiching system was easy
enough to see and figure out.</p>
<p>The drawbacks weren&rsquo;t apparent at first. Over time as the client
required more and more minute details the partials became more
difficult to manage. Some became less DRY as larger blocks of copy would
have to be repeated with small differenes such as dates or names. Over time
the similar content would get out of sync as someone would make a change
in one phase specific file but not realize the same change was
required in an earlier or later phase specific file. We ended up having
numbered phase folders phase1 - phase6 all with similar files
inside. All of which needed to be changed when layout or copy updates
occured.</p>
<p>This became an un-mangable system. Something will always be missed. Copy
will always be wrong somewhere in any given phase at some point in
time.</p>
<h3 id="introduction-to-i18n">Introduction to I18n</h3>
<p>Within the same section of application a few months back the client
requested certain pages have internationalized content. Rails makes this
very easy with the inclusion of the <a href="http://guides.rubyonrails.org/i18n.html">I18n gem</a>.
Following a simple structure to manage each pages copy we created a single folder for
each page and placed each language file within the folder:</p>
<p><!-- raw HTML omitted --></p>
<p>This worked simple enough and meant a handful of pages in this section
of the app are now using I18n helpers and had copy stored in the
YAML files.</p>
<p>Copy stored in YAML translates into a basic key value store.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">en</span>:
  <span style="color:#f92672">awards</span>:
    <span style="color:#f92672">program</span>:
      <span style="color:#f92672">title</span>: <span style="color:#ae81ff">The title to the Awards Program page</span>
</code></pre></div><p>With that in our translation files the copy now becomes accessbile
using the I18n interface.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(<span style="color:#e6db74">&#39;awards.program.title&#39;</span>)
<span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#34;The title to the Awards Program page&#34;</span>
</code></pre></div><h3 id="a-new-idea">A new Idea</h3>
<p>After fighting with phase specific files and more copy issues I
decided we needed to revisit the problem. I began thinking about the
process of internationalizing the previous pages. The usage for I18n
solves almost the exact problem we&rsquo;re having: Same page, different
copy.</p>
<p>I decided to try something simple. Add the content in the yaml,
follow it with the phase specific content and offer it a naming
convention to match the yaml key + phase. Something along the lines of:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">awards</span>:
  <span style="color:#f92672">marquee</span>:
    <span style="color:#f92672">pane1</span>:
      <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Audience Voting</span>
      <span style="color:#f92672">title_p5</span>: <span style="color:#ae81ff">Voting now closed</span>
      <span style="color:#f92672">text</span>: <span style="color:#ae81ff">An AUDIENCE AWARD...</span>
</code></pre></div><p>I then added a helper method for views:
<em>note</em>: The <code>@phase</code> variable is being set in a before filter within
this section of the app.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">pt</span>(string)
  phase_string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>string<span style="color:#e6db74">}</span><span style="color:#e6db74">_p</span><span style="color:#e6db74">#{</span>@phase<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
  <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(phase_string, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> string<span style="color:#f92672">.</span>to_sym)
<span style="color:#66d9ef">end</span>
</code></pre></div><p>What this does:
Appends the provided key with the phase number (Lets
assume 5.) Then checks to see if that key is set. If the key is not set use the
original key to find the default return value. Based on our YAML file above
we can now call the method with <code>pt('awards.marquee.pane1.title')</code>. If
the phase happens to be set to 5 our return value will be <code>&quot;Voting now closed&quot;</code> otherwise we will get <code>&quot;Audience Voting&quot;</code>. YAY! It worked.</p>
<p>It just doesn&rsquo;t sit right though. I left the code as is for the rest of
the day and thought about how it would be used and where it could be
problematic.</p>
<h3 id="let-it-stew">Let it stew</h3>
<p>The next day I came back to the problem having identified a few
situations where the format of the YAML file just wouldn&rsquo;t hold up.</p>
<ol>
<li>
<p>What if every field in pane1 needs to be changed per phase. That will
quickly create a chaotic yaml file. title_p1, title_p2, title_p3, etc.</p>
</li>
<li>
<p>What if phase 5 and phase 6 are identical. Now I have to make duplicate
entries for title_p5 and title_p6. That&rsquo;s not very DRY.</p>
</li>
</ol>
<p>The solution needs to be more flexible I thought. I&rsquo;m on the right track
but it should be easier and obvious to manage the content.</p>
<p>Lets look at the YAML for the second problem above:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">awards</span>:
  <span style="color:#f92672">index</span>:
    <span style="color:#f92672">module4</span>:
      <span style="color:#f92672">tab1</span>:
        <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Awards</span>
        <span style="color:#f92672">header</span>: <span style="color:#ae81ff">Awards Contest</span>
        <span style="color:#f92672">text</span>: <span style="color:#ae81ff">The Ad...</span>
        <span style="color:#f92672">title_p5</span>: <span style="color:#ae81ff">Voting Now Closed</span>
        <span style="color:#f92672">header_p5</span>: <span style="color:#ae81ff">Awards Finalists</span>
        <span style="color:#f92672">text_p5</span>: <span style="color:#ae81ff">Winners to be...</span>
        <span style="color:#f92672">title_p6</span>: <span style="color:#ae81ff">Voting Now Closed</span>
        <span style="color:#f92672">header_p6</span>: <span style="color:#ae81ff">Awards Finalists</span>
        <span style="color:#f92672">text_p6</span>: <span style="color:#ae81ff">Winners to be...</span>

<span style="color:#75715e"># At best we could DRY it up a little by using YAML anchors (&amp;) and references (*)</span>
    <span style="color:#ae81ff">...</span>
        <span style="color:#f92672">title_p5</span>: <span style="color:#75715e">&amp;voting_closed</span> <span style="color:#ae81ff">Voting Now Closed</span>
        <span style="color:#f92672">header_p5</span>: <span style="color:#75715e">&amp;voting_closed_header</span> <span style="color:#ae81ff">Awards Finalists</span>
        <span style="color:#f92672">text_p5</span>: <span style="color:#75715e">&amp;voting_closed_text</span> <span style="color:#ae81ff">Winners to be...</span>
        <span style="color:#f92672">title_p6</span>: <span style="color:#75715e">*voting_closed</span>
        <span style="color:#f92672">header_p6</span>: <span style="color:#75715e">*voting_closed_header</span>
        <span style="color:#f92672">text_p6</span>: <span style="color:#75715e">*voting_closed_text</span>
</code></pre></div><p>We managed to DRY it up a little but it&rsquo;s still hideous. I&rsquo;d have to
define every single phase specific key even if it&rsquo;s the same content.<br>
I don&rsquo;t want to do that. That is the existing problem but
shuffled to a different spot in the app.</p>
<p>I thought about it some more.</p>
<p>What if I could define a phase specific &ldquo;tab1&rdquo; in the yaml. I&rsquo;d still have
to express each phase but the nesting would allow me to DRY it up pretty
quick.</p>
<p>At some point I also decided prepending the phase was better then appending.</p>
<p>I redefined the YAML file in a manner I&rsquo;d <!-- raw HTML omitted -->like<!-- raw HTML omitted --> to be able to
manage my content:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">awards</span>:
  <span style="color:#f92672">index</span>:
    <span style="color:#f92672">module4</span>:
      <span style="color:#f92672">tab1</span>:
        <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Awards</span>
        <span style="color:#f92672">p2_title</span>: <span style="color:#ae81ff">Phase 2 title</span>
        <span style="color:#f92672">header</span>: <span style="color:#ae81ff">Awards Contest</span>
        <span style="color:#f92672">text</span>: <span style="color:#ae81ff">The Ad...</span>
      <span style="color:#f92672">p5_tab1</span>: <span style="color:#75715e">&amp;voting_closed</span>
        <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Voting Now Closed</span>
        <span style="color:#f92672">header</span>: <span style="color:#ae81ff">Awards Finalists</span>
        <span style="color:#f92672">text</span>: <span style="color:#ae81ff">Winners to be...</span>
      <span style="color:#f92672">p6_tab1</span>: <span style="color:#75715e">*voting_closed</span>
</code></pre></div><p>This idea was going to let me create phase specific content at any
nesting level. If I only needed a title change in phase 2. Then simply create a
phase specific title. If I needed a phase specific area. Define the
phase the key a level higher and anything nested will be considered copy for that
area. As shown this also makes replicating entire sections for multiple
phases a breeze using YAML anchors.</p>
<p>It sounded like a solid interface for managing the content but now I
need to make it work. This requires checking for phase specific content
at any given level of the YAML nesting interface. At the beginning at the end
and anywhere in between.</p>
<p>I knew right away I wasn&rsquo;t going to be writing this in a helper method
so I created a new class and utilized the class from within the helper:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">pt</span>(string)
  p <span style="color:#f92672">=</span> <span style="color:#66d9ef">Awards</span><span style="color:#f92672">::</span><span style="color:#66d9ef">PhaseTranslations</span><span style="color:#f92672">.</span>new(string, @phase)
  p<span style="color:#f92672">.</span>translate
<span style="color:#66d9ef">end</span>
</code></pre></div><p>I started the class off pretty simple. Just replicating the usage I
already had. This worked with the original YAML files but clearly
wouldn&rsquo;t work with the new format.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Awards</span><span style="color:#f92672">::</span><span style="color:#66d9ef">PhaseTranslations</span>

  <span style="color:#66d9ef">attr_accessor</span> <span style="color:#e6db74">:string</span>, <span style="color:#e6db74">:phase</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">initialize</span>(string, phase)
    @string <span style="color:#f92672">=</span> string
    @phase <span style="color:#f92672">=</span> phase
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_translation</span>(phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>)
    phase_string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>string<span style="color:#e6db74">}</span><span style="color:#e6db74">_p</span><span style="color:#e6db74">#{</span>@phase<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(phase_string, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> string<span style="color:#f92672">.</span>to_sym)
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">translate</span>
    find_translation
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>
</code></pre></div><p>In order to find phase specific keys anywhere within the nesting, the next
thing I had to do was find all possible key combinations.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;awards.index.module4.tab1.title&#39;</span>
a <span style="color:#f92672">=</span> string<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;.&#39;</span>)
possibilities <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>each_with_index<span style="color:#f92672">.</span>map <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>v,i<span style="color:#f92672">|</span>
  b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>clone
  b<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;p</span><span style="color:#e6db74">#{</span>phase<span style="color:#e6db74">}</span><span style="color:#e6db74">_</span><span style="color:#e6db74">#{</span>v<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
  b<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;.&#39;</span>)
<span style="color:#66d9ef">end</span>
<span style="color:#f92672">=&gt;</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;p6_awards.index.module4.tab1.title&#34;</span>,
    <span style="color:#e6db74">&#34;awards.p6_index.module4.tab1.title&#34;</span>,
    <span style="color:#e6db74">&#34;awards.index.p6_module4.tab1.title&#34;</span>,
    <span style="color:#e6db74">&#34;awards.index.module4.p6_tab1.title&#34;</span>,
    <span style="color:#e6db74">&#34;awards.index.module4.tab1.p6_title&#34;</span><span style="color:#f92672">]</span>
</code></pre></div><p>Great. Next we need to check to see if any of those keys return a value.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_translation</span>(phrase <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
  possibilities<span style="color:#f92672">.</span>each <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>key<span style="color:#f92672">|</span>
    phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(key, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;&#39;</span>)
    <span style="color:#66d9ef">break</span> <span style="color:#66d9ef">unless</span> phrase<span style="color:#f92672">.</span>blank?
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">if</span> phrase<span style="color:#f92672">.</span>blank?
    phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(string, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;&#39;</span>)
  <span style="color:#66d9ef">end</span>

  phrase
<span style="color:#66d9ef">end</span>
</code></pre></div><p>This checks to see if the keys return anything. If not returning a
default blank string. If <code>phrase</code> is still blank after we have checked all
the keys go back to using the unmodified provided key and return
the phrase. We can&rsquo;t just use the original string as the default anymore
as the first key miss would then set the <code>phrase</code> to the original key
value and we would short-circuit the loop.</p>
<p>This also worked pretty well but I quickly realized it to was
problematic. If we actually wanted to pass an empty string as phase
specific content (blanking out a header?) then we would actually end up
with the default header. With the following YAML as an example.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">awards</span>:
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Awards Header</span>
  <span style="color:#f92672">p2_title</span>: <span style="color:#e6db74">&#39;&#39;</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">pt(<span style="color:#e6db74">&#39;awards.title&#39;</span>) <span style="color:#75715e"># With phase 2</span>
<span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;Awards Header&#39;</span>
</code></pre></div><p>This happens becuase we&rsquo;re comparing against blank values and
considering a blank value a miss. When in this case a blank value is
exactly what we want returned.</p>
<p>To fix the problem we stop setting blank values on the initial lookup.
Lets allow I18n to raise a missing translation exception as that is it&rsquo;s
normal behaviour without defaults.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_translation</span>(phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>)
  extract_possibilities<span style="color:#f92672">.</span>each <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>key<span style="color:#f92672">|</span>
    <span style="color:#66d9ef">begin</span>
      phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(key, <span style="color:#e6db74">:raise</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">true</span>)
      <span style="color:#66d9ef">break</span> <span style="color:#66d9ef">unless</span> phrase<span style="color:#f92672">.</span>blank?
    <span style="color:#66d9ef">rescue</span>
      <span style="color:#75715e"># Let I18n raise a MissingTranslation exception.</span>
      <span style="color:#75715e"># We&#39;ll blank out the value or find the default after.</span>
    <span style="color:#66d9ef">end</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">if</span> phrase<span style="color:#f92672">.</span>nil?
    phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(string, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;&#39;</span>)
  <span style="color:#66d9ef">end</span>

  phrase
<span style="color:#66d9ef">end</span>
</code></pre></div><p>This solves our blank title issue. As shown below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">pt(<span style="color:#e6db74">&#39;awards.title&#39;</span>) <span style="color:#75715e"># With phase 2</span>
<span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;&#39;</span>
</code></pre></div><h3 id="wrapping-it-all-up">Wrapping it all up</h3>
<p>That pretty much gives us all the functionality we need at the moment.
Check out the full class:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Awards</span><span style="color:#f92672">::</span><span style="color:#66d9ef">PhaseTranslations</span>

  <span style="color:#66d9ef">attr_accessor</span> <span style="color:#e6db74">:string</span>, <span style="color:#e6db74">:phase</span>, <span style="color:#e6db74">:possibilities</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">initialize</span>(string, phase)
    @string <span style="color:#f92672">=</span> string
    @phase <span style="color:#f92672">=</span> phase
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">extract_possibilities</span>
    a <span style="color:#f92672">=</span> string<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;.&#39;</span>)
    self<span style="color:#f92672">.</span>possibilities <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>each_with_index<span style="color:#f92672">.</span>map <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>v,i<span style="color:#f92672">|</span>
      b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>clone
      b<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;p</span><span style="color:#e6db74">#{</span>phase<span style="color:#e6db74">}</span><span style="color:#e6db74">_</span><span style="color:#e6db74">#{</span>v<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
      b<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;.&#39;</span>)
    <span style="color:#66d9ef">end</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_translation</span>(phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>)
    extract_possibilities<span style="color:#f92672">.</span>each <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>key<span style="color:#f92672">|</span>
      <span style="color:#66d9ef">begin</span>
        phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(key, <span style="color:#e6db74">:raise</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">true</span>)
        <span style="color:#66d9ef">break</span> <span style="color:#66d9ef">unless</span> phrase<span style="color:#f92672">.</span>blank?
      <span style="color:#66d9ef">rescue</span>
        <span style="color:#75715e"># Let I18n raise a MissingTranslation exception.</span>
        <span style="color:#75715e"># We&#39;ll blank out the value or find the default after.</span>
      <span style="color:#66d9ef">end</span>
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">if</span> phrase<span style="color:#f92672">.</span>nil?
      phrase <span style="color:#f92672">=</span> <span style="color:#66d9ef">I18n</span><span style="color:#f92672">.</span>t(string, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;&#39;</span>)
    <span style="color:#66d9ef">end</span>

    phrase
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">translate</span>
    find_translation
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>
</code></pre></div><p>After using translations in this way for a few days the new method
proved its versatility. Allowing the formatting of the YAML
files in different but very declarative manners. Just to start:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">awards</span>:
  <span style="color:#f92672">faq</span>:
    <span style="color:#f92672">entry_header</span>: <span style="color:#ae81ff">What is the entry deadline?</span>
    <span style="color:#f92672">entry_paragraphs</span>:
      - <span style="color:#ae81ff">Call for Sub...</span>
      - <span style="color:#ae81ff">All med...</span>
      - <span style="color:#ae81ff">All med...</span>
      - <span style="color:#ae81ff">Award w...</span>
    <span style="color:#f92672">p5_entry_paragraphs</span>: <span style="color:#75715e">&amp;entries_closed</span>
      - <span style="color:#ae81ff">Submissions are...</span>
    <span style="color:#f92672">p6_entry_paragraphs</span>: <span style="color:#75715e">*entries_closed</span>

  <span style="color:#f92672">index</span>:
    <span style="color:#f92672">module4</span>:
      <span style="color:#f92672">tab1</span>:
        <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Awards</span>
        <span style="color:#f92672">p2_title</span>: <span style="color:#ae81ff">Phase 2 title</span>
        <span style="color:#f92672">header</span>: <span style="color:#ae81ff">Awards Contest</span>
        <span style="color:#f92672">text</span>: <span style="color:#ae81ff">The Ad...</span>
      <span style="color:#f92672">p5_tab1</span>: <span style="color:#75715e">&amp;voting_closed</span>
        <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Voting Now Closed</span>
        <span style="color:#f92672">header</span>: <span style="color:#ae81ff">Awards Finalists</span>
        <span style="color:#f92672">text</span>: <span style="color:#ae81ff">Winners to be...</span>
      <span style="color:#f92672">p6_tab1</span>: <span style="color:#75715e">*voting_closed</span>

  <span style="color:#f92672">marquee</span>:
    <span style="color:#f92672">pane1</span>:
      <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Audience Award Voting</span>
      <span style="color:#f92672">text</span>: <span style="color:#ae81ff">An AUDIENCE AWA...</span>
    <span style="color:#f92672">p5_pane1</span>: <span style="color:#75715e">&amp;voting_closed_marquee</span>
      <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Voting now closed</span>
      <span style="color:#f92672">text</span>: <span style="color:#ae81ff">Winners of th...</span>
    <span style="color:#f92672">p6_pane1</span>: <span style="color:#75715e">*voting_closed_marquee</span>
    <span style="color:#f92672">pane2</span>:
      <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Judges</span>
      <span style="color:#f92672">text</span>: <span style="color:#ae81ff">Meet Ad...</span>
    <span style="color:#f92672">pane3</span>:
      <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Essentials</span>
      <span style="color:#f92672">text</span>: <span style="color:#ae81ff">The Ad...</span>
</code></pre></div><p>All in all I found the new soltion to be quickly solving all the copy
update issues we were previously encountering. As we move the content
into the translation files slowly we can be removing all the repetitive
phase specific view files that have cluttered up the view directories.</p>
<p>Thanks for reading through the post. The code is far from perfect but I
felt like I wanted to share the process anyway. If you have any
suggestions or corrections to make please send me an email
or find me on <a href="http://www.twitter.com/brian_pearce">twitter</a>.</p>

              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="http://alwayscoding.ca/tags/rails/">rails</a>

  <a class="tag tag--primary tag--small" href="http://alwayscoding.ca/tags/ruby/">ruby</a>

  <a class="tag tag--primary tag--small" href="http://alwayscoding.ca/tags/i18n/">I18n</a>

  <a class="tag tag--primary tag--small" href="http://alwayscoding.ca/tags/translations/">translations</a>

  <a class="tag tag--primary tag--small" href="http://alwayscoding.ca/tags/yaml/">yaml</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://alwayscoding.ca/momentos/2013/08/15/handling-dates-and-timezones-in-ruby-and-rails/" data-tooltip="Handling Dates &amp; Timezones in Ruby &amp; Rails" aria-label="NEXT: Handling Dates &amp; Timezones in Ruby &amp; Rails">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://alwayscoding.ca/momentos/2013/06/09/datamapper-sql-queries-in-rails-console/" data-tooltip="DataMapper SQL Queries in Rails Console" aria-label="PREVIOUS: DataMapper SQL Queries in Rails Console">
          
              <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/" title="Share on Facebook" aria-label="Share on Facebook">
          <i class="fab fa-facebook" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/" title="Share on Twitter" aria-label="Share on Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/" title="Share on Google&#43;" aria-label="Share on Google&#43;">
          <i class="fab fa-google-plus" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 Brian Pearce. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://alwayscoding.ca/momentos/2013/08/15/handling-dates-and-timezones-in-ruby-and-rails/" data-tooltip="Handling Dates &amp; Timezones in Ruby &amp; Rails" aria-label="NEXT: Handling Dates &amp; Timezones in Ruby &amp; Rails">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://alwayscoding.ca/momentos/2013/06/09/datamapper-sql-queries-in-rails-console/" data-tooltip="DataMapper SQL Queries in Rails Console" aria-label="PREVIOUS: DataMapper SQL Queries in Rails Console">
          
              <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/" title="Share on Facebook" aria-label="Share on Facebook">
          <i class="fab fa-facebook" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/" title="Share on Twitter" aria-label="Share on Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://alwayscoding.ca/momentos/2013/06/13/using-rails-i18n-translations-to-solve-dynamic-content-issues/" title="Share on Google&#43;" aria-label="Share on Google&#43;">
          <i class="fab fa-google-plus" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      
<div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Falwayscoding.ca%2Fmomentos%2F2013%2F06%2F13%2Fusing-rails-i18n-translations-to-solve-dynamic-content-issues%2F" aria-label="Share on Facebook">
          <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http%3A%2F%2Falwayscoding.ca%2Fmomentos%2F2013%2F06%2F13%2Fusing-rails-i18n-translations-to-solve-dynamic-content-issues%2F" aria-label="Share on Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http%3A%2F%2Falwayscoding.ca%2Fmomentos%2F2013%2F06%2F13%2Fusing-rails-i18n-translations-to-solve-dynamic-content-issues%2F" aria-label="Share on Google&#43;">
          <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>


    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/c15ec5b29cc5407a01bd17907e41230b?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Brian Pearce</h4>
    
      <div id="about-card-bio">Software Developer, Endurance Cyclist,<!-- raw HTML omitted --> Rubiest, and Rustacean</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        Barcelona, Spain
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('http://alwayscoding.ca/images/side-column-bg-blur.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="http://alwayscoding.ca/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

